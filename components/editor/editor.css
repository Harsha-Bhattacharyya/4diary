/**
 * Copyright Â© 2025 Harsha Bhattacharyya
 * 
 * This file is part of 4diary.
 * 
 * SPDX-License-Identifier: BSD-3-Clause
 * 
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the conditions in the LICENSE file are met.
 */

/* Custom styles for BlockNote Editor */

:root {
  --editor-text-color: #000000;
  --editor-hover-bg: rgba(0, 0, 0, 0.1);
  --editor-selected-bg: rgba(0, 0, 0, 0.15);
}

/* Make formatting toolbar text black for better visibility */
.bn-formatting-toolbar button,
.bn-formatting-toolbar select,
.bn-formatting-toolbar .bn-button,
.bn-formatting-toolbar .bn-select {
  color: var(--editor-text-color) !important;
}

/* Make slash menu (suggestion menu) text black */
.bn-suggestion-menu .bn-suggestion-menu-item,
.bn-suggestion-menu-item {
  color: var(--editor-text-color) !important;
}

/* Ensure dropdown menus also have black text */
.bn-formatting-toolbar .bn-select-menu-item,
.bn-select-menu-item {
  color: var(--editor-text-color) !important;
}

/* Make sure icons and labels in toolbar are black */
.bn-formatting-toolbar svg,
.bn-formatting-toolbar path {
  stroke: var(--editor-text-color) !important;
  fill: var(--editor-text-color) !important;
}

/* Ensure hover states maintain visibility */
.bn-formatting-toolbar button:hover,
.bn-formatting-toolbar .bn-button:hover {
  color: var(--editor-text-color) !important;
  background-color: var(--editor-hover-bg);
}

/* Make suggestion menu items more visible */
.bn-suggestion-menu-item:hover {
  background-color: var(--editor-hover-bg);
}

.bn-suggestion-menu-item-selected {
  background-color: var(--editor-selected-bg);
}

/* Line numbers support */
.editor-with-line-numbers .bn-block-outer {
  display: flex;
  align-items: flex-start;
}

.editor-with-line-numbers .bn-block-outer::before {
  content: attr(data-line-number);
  display: inline-block;
  width: 3rem;
  padding-right: 1rem;
  text-align: right;
  color: #999;
  font-size: 0.875rem;
  font-family: monospace;
  flex-shrink: 0;
  user-select: none;
  counter-increment: line-number;
}

.editor-with-line-numbers {
  counter-reset: line-number;
}

.editor-with-line-numbers .bn-block-outer::before {
  content: counter(line-number);
}
